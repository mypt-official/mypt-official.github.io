---
layout: post
title:  "ğŸ“± RecyclerViewë¥¼ ì—¬ëŸ¬ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´?"
date:   2022-07-31 23:00:00 +0900
categories: [í”„ë¡œê·¸ë˜ë°]
---

# ğŸ“±Â RecyclerViewë¥¼ ì—¬ëŸ¬ íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´?

RecyclerviewëŠ” ë©”ëª¨ë¦¬ ì‚¬ìš©ì— ìˆì–´ì„œ ê¸°ì¡´ì˜ ListView ë³´ë‹¤ ì¢‹ë‹¤.

ê°œë°œì„ í•˜ë©´ì„œ ëŠë¼ëŠ”ê²Œ ìš”ì¦˜ ì•±ë“¤ì€ ë‹¨ìˆœ ë˜‘ê°™ì€ ë¦¬ìŠ¤íŠ¸ë§Œ ë³´ì—¬ì£¼ê³  ìˆì§€ ì•Šë‹¤.

- ìµœìƒë‹¨ì— ë·°ê°€ ìˆëŠ” ìƒíƒœì—ì„œ ì•„ë˜ì— RecyclerViewê°€ ìˆëŠ”ë° ìŠ¤í¬ë¡¤ì‹œ ê°™ì´ ì˜¬ë¼ê°€ì•¼í•˜ëŠ” ìƒí™©
- ë¦¬ìŠ¤íŠ¸ì˜ ì•„ì´í…œì˜ íŒ¨í„´ì´ ë‹¤ë¥¸ ê²½ìš°
- ë“±ë“±â€¦

ê°œë°œì„ í•˜ë ¤ê³  ë“¤ì–´ê°€ë©´ ìŠ¤í¬ë¡¤ì´ ê°™ì´ ë˜ë©´ ì¢‹ê² ë‹¤ê±°ë‚˜, ì•„ì´í…œ í˜•ì‹ì´ ë‹¤ë¥¸ ë¦¬ìŠ¤íŠ¸ ë·°ë¥¼ ê°œë°œí•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ê¸€ì„ í™•ì¸í•´ì£¼ë©´ ëœë‹¤.

% ë³¸ ë¬¸ì€ Databindingì„ ê¸°ë°˜ìœ¼ë¡œ ê°œë°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤.

1. ë³´í†µ Adapterë¥¼ í•˜ë‚˜ì˜ View íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ ë•Œì™€ëŠ” ë‹¤ë¥´ê²Œ ìƒì†ë°›ëŠ” ViewHolderë¥¼ ìƒì†ë°›ëŠ”ê²Œ ì•„ë‹ˆë¼ ìµœìƒìœ„ ViewHolderë¥¼ ìƒì†ë°›ìŠµë‹ˆë‹¤.

```kotlin
class ExampleMainAdapter() 
: RecyclerView.Adapter<RecyclerView.ViewHolder>() { // <- ì—¬ê¸°~
// ë³´í†µ : RecyclerView.Adapter<ExampleAdapter.MyViewHolder>() ë¡œ ì •ì˜í•´ì„œ ì‚¬ìš©í•œë‹¤.
	...
}
```

1. ê°ê° ì‚¬ìš©í•  ViewHolderì„ ì •ì˜í•´ì¤ë‹ˆë‹¤.

```kotlin
class ExampleMainAdapter() : RecyclerView.Adapter<RecyclerView.ViewHolder>() {

		...

		inner class FirstViewHolder(
        val binding: ItemFirstBinding
    ) : RecyclerView.ViewHolder(binding.root) {
        fun bind() {
            binding.apply {
                ...
            }
        }
    }
		
		inner class SecondViewHolder(
		    val binding: ItemSecondBinding
		) : RecyclerView.ViewHolder(binding.root) {
		    fun bind() {
		        binding.apply {
		            ...
		        }
		    }
		}
		
		...

}
```

2ê°œë§Œ ë§Œë“¤ì–´ë†¨ì§€ë§Œ ì—¬ëŸ¬ê°œë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.

1. Override í•¨ìˆ˜ë“¤ì„ ì •ì˜í•´ì¤ë‹ˆë‹¤.

```kotlin
class ExampleMainAdapter() : RecyclerView.Adapter<RecyclerView.ViewHolder>() {

		override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {
        when (position) { // ê¸°ì¤€ì„ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ì¡ì•„ì¤„ ìˆ˜ ìˆë‹¤. ì˜ˆ) list[position].type
            0 -> {
                (holder as FirstViewHolder).bind()
								// ì´ ì•„ì´í…œì˜ ê²½ìš° setIsRecycleable(false)ë¥¼ ì„¤ì •í•´ì£¼ë©´ ë¦¬ì‚¬ì´í´ì´ ì•ˆë˜ê³  ìµœì´ˆ 1íšŒ ë§Œ ë°”ì¸ë“œ ëœë‹¤
                holder.setIsRecyclable(false) 
            }
            1 -> {
                (holder as SecondViewHolder).bind()
                holder.setIsRecyclable(false)
            }

						...

            else -> {
                (holder as LastViewHolder).bind()
                holder.setIsRecyclable(false)
            }
        }

    }

    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {
        return when (viewType) {// ê¸°ì¤€ì„ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ì¡ì•„ì¤„ ìˆ˜ ìˆë‹¤. ì˜ˆ) list[position].type
            0 -> FirstViewHolder(
                ItemFirstBinding.inflate(
                    LayoutInflater.from(parent.context), parent, false
                )
            )

            1 -> SecondViewHolder(
                ItemSecondBinding.inflate(
                    LayoutInflater.from(parent.context), parent, false
                )
            )

						...

            else -> HelpCardViewHolder(
                ItemDashboardMoneyMainBinding.inflate(
                    LayoutInflater.from(parent.context), parent, false
                )
            )

        }
    }

		override fun getItemViewType(position: Int): Int {
        return position // ê¸°ì¤€ì„ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ì¡ì•„ì¤„ ìˆ˜ ìˆë‹¤. ì˜ˆ) list[position].type
    }

		override fun getItemCount(): Int {
        return list.size // ìœ ë™ì ìœ¼ë¡œ ì„¤ì •
    }
		...

}
```

ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ í•˜ë©´ ì—¬ëŸ¬ íƒ€ì…ì˜ Viewë“¤ì„ RecyclerViewì— ìƒí™©ë³„ë¡œ ë„£ì–´ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.