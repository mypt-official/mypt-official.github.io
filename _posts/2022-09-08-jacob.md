---
layout: post
title:  "groupBy, dropWhile, takeWhile, slice - Collections í•¨ìˆ˜ Listë¥¼ ì‰½ê²Œ ê°€ê³µí•©ì‹œë‹¤ with Kotlin ğŸ§¶"
date:   2022-09-08 18:00:00 +0900
categories: [í”„ë¡œê·¸ë˜ë°]
---


# groupBy, dropWhile, takeWhile, slice - Collections í•¨ìˆ˜ Listë¥¼ ì‰½ê²Œ ê°€ê³µí•©ì‹œë‹¤ with Kotlin ğŸ§¶



ìš°ë¦¬ëŠ” ê°™ì€ í˜•íƒœì˜ ê²Œì‹œë¬¼ë“¤ì„ ì²˜ë¦¬í•˜ê³  ê°€ê³µí•œë‹¤.

ê·¸ê±¸ í•„í„°ë¥¼ í†µí•´ ë³´ê³  ì‹¶ì€ ê²ƒë§Œ ë³¼ ìˆ˜ ìˆì–´ì•¼í•˜ê³  ì—¬ëŸ¬ ë°ì´í„°ë“¤ì„ ê·¸ë£¹í™” ì‹œì¼œì•¼í•˜ê¸°ë„ í•œë‹¤.

ì´ì œ forë¬¸ forEachë¬¸ìœ¼ë¡œ if ë¬¸ìœ¼ë¡œ ë¹¼ê³  ë”í•˜ê³ ëŠ” ê·¸ë§Œí•˜ê³  ì œê³µí•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ë˜‘ë˜‘í•˜ê²ŒğŸ§‘ğŸ»â€ğŸ’»(ë‚œ ë°”ë³´ì•¼...) ì¨ë³´ì.

1. groupBy(ê·¸ë£¹ë´ì´)

![0*4Jl7ZoFXnMSg-NdT](../images/2022-09-08-jacob/0*4Jl7ZoFXnMSg-NdT.png)

(ì´ë¯¸ì§€ë¥¼ ë³´ë©´ êµ‰ì¥íˆ ì´í•´í•˜ê¸° ì‰½ë‹¤.)

ë‚´ê°€ ì‚¬ìš©í–ˆë˜ ì˜ˆì œë„ ê°™ì´ ì ì–´ë†“ìœ¼ë ¤í•œë‹¤.

ìƒí™© : íšŒì›ë“¤ì˜ ìˆ˜ì—… í˜„í™©ì´ ë‚´ë ¤ì˜¤ëŠ”ë° ê·¸ê±¸ **ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬** í›„ í•´ë‹¹ ë‚ ì§œì˜ ìˆ˜ì—…ì€ **ì‹œê°„ìˆœìœ¼ë¡œ ì •ë ¬**í•´ì•¼í•˜ëŠ” ìƒí™©ì´ë‹¤.

```kotlin
// ì£¼ì„ìœ¼ë¡œ ì„¤ëª…ì„ ë‹¬ì•„ë³´ë„ë¡!
val sortList = list.sortedByDescending { reservation -> //sortedByDescending -> ì—­ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.
		reservation.startTime 
		// reservation.startTime = "2022-09-08T12:55:11.000.00Z"
    // stringì¸ ì‹œê°„ì´ë¼ë„ ì •ë ¬ì´ ê°€ëŠ¥í•˜ë‹¤.
	}.groupBy { // groupByì€ ì•„ë˜ì˜ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë£¹í™”í•œë‹¤.
		it.startTime.split("T")[0] // = "2022-09-08" ì¼ë‹¨ ë‚ ì§œ ìˆœìœ¼ë¡œ ê·¸ë£¹í™”.
	}.map {
		it.key to it.value.sortedBy { item ->
			// sortedBy -> ì•„ë˜ì˜ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•œë‹¤.
			item.startTime // = "2022-09-08T12:55:11.000.00Z"
		}
	}.flatMap {
  	// í•„ìëŠ” keyê°’(ê·¸ë£¹í™”í•œ ë‚ ì§œ)ì€ í•„ìš”ì—†ê³  valueê°’(ë¦¬ìŠ¤íŠ¸)ë§Œ í•„ìš”í•´ì„œ flatMapì„ ì‚¬ìš©í–ˆë‹¤.
		it.second
	}
```



2. dropWhile(ë“œë¢‰ì™€ì¼~)

![0*M8H9RF4MqETlBudE](../images/2022-09-08-jacob/0*M8H9RF4MqETlBudE.png)

(ê·¸ë¦¼ë§Œ ë³´ë©´ ì´í•´ê°€ ì¶©ë¶„íˆ ëœë‹¤.)

ìƒí™© : **í˜„ì¬ì‹œê°„ ê¸°ì **ìœ¼ë¡œ ì¼ì •ë“¤ ì¤‘ì— **ì œì¼ ê°€ê¹Œìš´ ì¼ì • ìµœëŒ€ 3ê°œ**ë§Œ ë³´ì—¬ì¤˜ì•¼í•œë‹¤.

```kotlin
// í˜„ì¬ì‹œê°„
val today = Date().format("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'", Locale.KOREAN)

val sortList = list.dropWhile {
  // date = "2022-09-08" / startAt = "12:10:00" í˜•íƒœë¡œ ë‚´ë ¤ì™€ì„œ í•©ì³ì£¼ëŠ” ìƒí™©ìœ¼ë¡œ ë§Œë“¬
	today > it.date.replace("00:00:00", it.startAt) // í˜„ì¬ì‹œê°„ > ì¼ì •ì‹œê°„ == true -> ë¦¬ìŠ¤íŠ¸ì—ì„œ ì œê±°
}.subList(0, if (sortList.size < 3) sortList.size else 3) // subList(startIndex, lastIndex)
// ë¦¬ìŠ¤íŠ¸ê°€ 3ê°œ ì´ìƒì´ë©´ 3ê°œë§Œ, 3ê°œ ì´í•˜ë©´ ê°€ì§€ê³  ìˆëŠ” ê°œìˆ˜ë§Œ ë³´ì—¬ì£¼ê²Œ ì²˜ë¦¬
```



3. takeWhile(í…¤ì™€ì¼~)

![0*43M1Wiy86oiVMnfp](../images/2022-09-08-jacob/0*43M1Wiy86oiVMnfp.png)

dropWhileì´ë‘ ë°˜ëŒ€ë¡œ trueì¸ ê²ƒì„ ê°€ì ¸ê°„ë‹¤. (ì·¨í–¥ê²ƒ ì‚¬ìš©í•˜ë©´ ë  ê²ƒ ê°™ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì˜ˆì œ ìƒí™©ì€ p.a.s.s~)

4. slice(ë„¥! ìŠ¬ë¼ì´ìŠ¤!)

![ìŒ ìª¼ê¸° ì§€ë‚˜ê°€ë˜ì§•ì–¸ë° í—¨ë¦¬ ë„¥ìŠ¬ë¼ì´ìŠ¤ ìŒì„± ê¸°ì°¨í•´ì¤„ì‘¤ì´ì˜? - ì¸ìŠ¤í‹°ì¦ˆ(instiz) ì¹´í…Œê³ ë¦¬](../images/2022-09-08-jacob/495E8D2F-2B7C-4985-8750-F361F277C87D.jpeg)

![0*qT4AgeZZiMTOg6AB](../images/2022-09-08-jacob/0*qT4AgeZZiMTOg6AB.png)

ìŠ¬ë¼ì´ìŠ¤ëŠ” êµ¬ê°„ì„ ì •í•´ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

```kotlin
// ìœ„ì— ì½”ë“œì™€ ë™ì¼.
val today = Date().format("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'", Locale.KOREAN)
val sortList = data.filter {
	today < it.date.replace("00:00:00", it.startAt)
}

return sortList.slice(if (sortList.size < 3) sortList.indices else 0..2)
// ë¦¬ìŠ¤íŠ¸ê°€ 3ê°œ ì´ìƒì´ë©´ 3ê°œë§Œ, 3ê°œ ì´í•˜ë©´ ê°€ì§€ê³  ìˆëŠ” ê°œìˆ˜ë§Œ ë³´ì—¬ì£¼ê²Œ ì²˜ë¦¬
```



ìƒê°ë³´ë‹¤ ìœ ìš©í•œ í•¨ìˆ˜ë“¤ì´ ë§ë‹¤. ê³µë¶€ë¥¼ ë” í•´ì•¼í•˜ëŠ” ì´ìœ ê°€ ë¬¼ë¡  ë’¤ì³ì§€ì§€ ì•Šì•„ì•¼í•˜ê³  ê³„ì†í•´ì„œ ë°œì „í•˜ëŠ” ê¸°ìˆ ì„ ì œëŒ€ë¡œ ì‚¬ìš©í•¨ë„ ìˆì§€ë§Œ **ì¼ì„ í¸í•˜ê²Œ** í•  ìˆ˜ ìˆëŠ” ê²ƒë„ ìˆìœ¼ë‹ˆ ì—¬ëŸ¬ ì´ìœ ì—ì„œë„ ê³µë¶€ë¥¼ ë©ˆì¶”ì§€ ì•Šì•„ì•¼í•˜ê³  ë©ˆì¶”ì§€ ì•Šê³  ì‹¶ë‹¤~
